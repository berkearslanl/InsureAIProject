@using System.Text.RegularExpressions
@model List<ArticleListViewModel>

<div class="col-lg-8">
    @foreach (var x in Model)
    {
        <div class="bsingle__post mb-50">
            <div class="bsingle__post-thumb">
                <img src="@x.ImageUrl" alt="" style="height:500px">
            </div>
            <div class="bsingle__content">
                <div class="meta-info">
                    <ul>
                        <li><i class="fal fa-user"></i>@x.Author</li>
                        <li><i class="fal fa-calendar-alt"></i> @x.CreatedDate.ToString("dd MMM yyyy")</li>
                        <li><i class="fal fa-folder"></i> @x.CategoryName</li>
                        <li><i class="fal fa-comment"></i> @x.CommentCount Yorum</li>
                    </ul>
                </div>
                <h2>
                    <a href="/Blog/BlogDetail/@x.ArticleId">
                        @x.Title
                    </a>
                </h2>
                @if (x.Description.Length>300)
                {
                    var plainText = Regex.Replace(x.Description, "<.*?>", "");
                    var summary = plainText.Length > 300
                    ? plainText.Substring(0, 300) + "..."
                    : plainText;
                    <p>@Html.Raw(summary)</p>
                }
                else
                {
                    <p>@Html.Raw(x.Description)</p>
                }
                <div class="blog__btn">
                    <a href="/Blog/BlogDetail/@x.ArticleId" class="btn">Devamını Oku</a>
                </div>
            </div>
        </div>
    }
</div>